<!DOCTYPE html>
<html>
<head>
<title>TubePlayForElectron</title>
<meta charset=utf-8>
</head>
<body>
<!--<script src="nico.js"></script>-->
<script src="control.js"></script>
<script src="tube.js"></script>
<div id="ytplayer"></div>
<iframe id="NicoFrame" width="500" height="300" src="https://www.google.co.jp/"></iframe><br><!--srcは後で指定-->
<script src="server.js"></script>
		<!--<h1>TubePlayForElectron</h1>-->
		Port<input type="number" id="input_port" value="7000">
		<input type="button" id="submit" value="サーバ起動!" onclick="startServer();"></input>
		<!--<script src="server.js"></script>-->
	<div style="margin-bottom: 5px;">
		<input type="button" name="btn1" value="ミュート"
			onclick="muteCom();" /> <input type="button" name="btn2"
			value="ミュート解除" onclick="unMuteCom();" /> <input type="button"
			name="btn3" value="ミュート状態(つべ)" onclick="myIsMuted();" />
		<input type="button" name="btn4" value="音量を設定(20固定)"
			onclick="volCom(20);" /> <input type="button" name="btn5"
			value="音量を取得(alart)" onclick="alertVolCom();" />
	</div>
	<div style="margin-bottom: 5px;">
		<input type="button" name="btn1" value="再生"
			onclick="playCom();" /> <input type="button" name="btn2"
			value="一時停止" onclick="stopCom();" /> <input
			type="button" name="btn3" value="最初に移動"
			onclick="seekCom(0);" />
			<input type="button" name="btn4" value="alertLoopCount"
			onclick="alertLoopCountCom();" />
	</div>
<script>
	const ipcMain = require("electron").remote.ipcMain;
	ipcMain.on("playNicoVideo", (event, videoID)=>{
		//動かない
		var iframe = document.getElementById('NicoFrame');
		iframe.contentWindow.loadVideo(videoID);
		alart("再生開始"+videoID);
	});
	//動く
function loadVideoNico(){
	stopCom();
			var iframe = document.getElementById('NicoFrame');
			iframe.contentWindow.loadVideo(nowPlayVideoID=document.getElementById('videoID').value);
			//iframe.contentWindow.myPlayVideo();
			playerType=2;
	//removeNicoPlayer();
	//var nico=new NicovideoPlayer('body',document.getElementById('videoID').value);
}
function loadVideoF(){
	stopCom();
	loadVideo(document.getElementById('videoID').value);
			playerType=0;
}
function loadListF(){
	stopCom();
	loadList(document.getElementById('videoID').value,0);
			playerType=1;
}
</script>
<p>動画ID=<input type="text" name="videoID" value="" id="videoID" />
<input type="button"　name="btn3" value="ようつべ再生" onclick="loadVideoF();" />
<input type="button"　name="btn4" value="リスト再生" onclick="loadListF();" />
<input type="button"　name="btn5" value="ニコ動再生" onclick="loadVideoNico();" /></p>
<input type="button" name="btn6" value="IFRAME再読み込み" onclick="reloadNicoFrame();" />
</body>
</html>